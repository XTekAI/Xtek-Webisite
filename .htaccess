<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /

  # 1. Serve root as dist/index.html
  RewriteRule ^$ dist/index.html [L]

  # 2. If the request is for a file that exists in dist, serve it
  RewriteCond %{DOCUMENT_ROOT}/dist/%{REQUEST_URI} -f
  RewriteRule ^(.*)$ dist/$1 [L]

  # 3. For any other route (like /blog or /stories), serve dist/index.html
  # This allows React Router to handle the route
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^(.*)$ /dist/index.html [L]
</IfModule>

